---
processes:
  - name: yb-sample-apps
    executable: /var/vcap/jobs/yb-sample-apps/bin/yb-sample-apps
    env:
      JAVA_HOME: /var/vcap/packages/openjdk8/jre
      MASTER_ENDPOINTS: <%= link("yb-master").instances.map { |instance| "#{instance.address}:7100" }.join(",") %>
      YCQL_ENDPOINTS: <%= link("yb-tserver").instances.map { |instance| "#{instance.address}:9042" }.join(",") %>
      YEDIS_ENDPOINTS: <%= link("yb-tserver").instances.map { |instance| "#{instance.address}:6379" }.join(",") %>
      YSQL_ENDPOINTS: <%= link("yb-tserver").instances.map { |instance| "#{instance.address}:5433" }.join(",") %>
      MAX_HEAP_SIZE: p('yb-sample-apps.max_heap_size')

    capabilities: []
