---
processes:
  - name: yb-tserver
    executable: /var/vcap/packages/yugabyte/bin/yb-tserver
    persistent_disk: true
    args:
      - --flagfile=/var/vcap/jobs/yb-tserver/config/tserver.conf
    limits:
      open_files: <%= p("bpm.limits.open_files") %>
      processes: <%= p("bpm.limits.processes") %>
    env:
      ENABLE_AGGRESSIVE_MANUAL_YSQL_INIT: <%= p("enable_aggressive_manual_ysql_init") %>
      ENABLE_MANUAL_YSQL_INIT: <%= p("enable_manual_ysql_init") %>
      RM_POST_INSTALL_COMPLETED_ON_STARTUP: <%= p("rm_post_install_completed_on_startup") %>
    hooks:
      pre_start: /var/vcap/jobs/yb-tserver/bin/pre_start
