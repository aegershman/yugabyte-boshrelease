--fs_data_dirs=/var/vcap/store/yb-master
--log_dir=/var/vcap/sys/log/yb-master
--logtostderr=<%= p("logtostderr") %>
--max_log_size=<%= p("max_log_size") %>
--minloglevel=<%= p("minloglevel") %>
--stderrthreshold=<%= p("stderrthreshold") %>
--stop_logging_if_full_disk=<%= p("stop_logging_if_full_disk") %>
--v=<%= p("v") %>

--master_addresses=<%= link("yb-master").instances.map { |i| "#{i.address}:#{p('rpc_bind_addresses_port')}" }.join(",") %>
--replication_factor=<%= link("yb-master").instances.length %>
--rpc_bind_addresses=<%= spec.address %>
--server_broadcast_addresses=<%= spec.address %>:<%= p("rpc_bind_addresses_port") %>
--webserver_interface=<%= spec.address %>
--webserver_port=<%= p("webserver_port") %>

--enable_ysql=<%= p("enable_ysql") %>

--default_memory_limit_to_ram_ratio=<%= p("default_memory_limit_to_ram_ratio") %>

--placement_cloud=<%= p("placement_cloud") %>
--placement_region=<%= p("placement_region") %>
--placement_zone=<%= p("placement_zone", spec.az) %>

--use_cassandra_authentication=true

<% if p("tls.use_node_to_node_encryption") -%>
--allow_insecure_connections=<%= p("tls.allow_insecure_connections") %>
--certs_dir=/var/vcap/jobs/yb-master/config/certs
--use_node_to_node_encryption=<%= p("tls.use_node_to_node_encryption") %>
<% end -%>

<% p('gflags', {}).each do |key, value| %>
--<%= key %>=<%= value %>
<% end %>
