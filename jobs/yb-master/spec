---
name: yb-master

description: |
  total instances of master nodes should be odd, because replication factor should be odd
  https://docs.yugabyte.com/latest/reference/configuration/yb-master/
  https://docs.yugabyte.com/latest/deploy/checklist/

templates:
  bpm.yml: config/bpm.yml
  master.conf.erb: master.conf

packages:
  - yugabyte

consumes:
  - name: yb-master
    type: conn

provides:
  - name: yb-master
    type: conn

properties:
  enable_ysql:
    default: true
  stderrthreshold:
    default: 0
    description: |
      Log messages at, or above, this level are copied to stderr in addition to log files.
      Values are: 0 (INFO), 1 (WARN), 2 (ERROR), 3 (FATAL).
  placement_zone:
    description: |
      The name of the availability zone (AZ), or rack, where this instance is deployed.
      Default is auto-assigned from bosh
  placement_region:
    default: datacenter1
    description: Name of the region or data center where this instance is deployed.
  placement_cloud:
    default: cloud1
    description: Name of the cloud where this instance is deployed.
  use_private_ip:
    default: never
    description: |
      Determines when to use private IP addresses.
      Based on the values of the placement_* configuration options.
      Possible values are never (default),zone,cloud and region.
      See: https://docs.yugabyte.com/latest/reference/configuration/yb-master/#geo-distribution-options
