---
name: yb-admin

description: |
  https://docs.yugabyte.com/latest/admin/yb-admin/
  https://docs.yugabyte.com/latest/deploy/manual-deployment/verify-deployment/#optional-setup-yedis-api

templates:
  bpm.erb.yml: config/bpm.yml
  pre-start.sh: bin/pre-start
  run.sh: bin/run
  yb-admin.sh.erb: yb-admin.sh

packages:
  - yugabyte

consumes:
  - name: yb-master
    type: conn

properties:
  master_addresses_port:
    default: 7100
  commands:
    description: list of command sequences to individually pass to `yb-admin -master_addresses masteraddresses <your_command_string_here>`
    default: [get_universe_config]
    example: |
      commands:
        command: create_snapshot ydb test_tb
        command: all_masters_have_universe_key_in_memory somekeyid
